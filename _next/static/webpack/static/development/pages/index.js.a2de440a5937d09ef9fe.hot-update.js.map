{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.a2de440a5937d09ef9fe.hot-update.js","sources":["webpack:///./components/InvestigatorPage.tsx"],"sourcesContent":["import { PureComponent } from 'react'\r\nimport { ReactElement } from 'react'\r\nimport classnames from 'classnames'\r\n\r\nimport { Investigator } from '../typescript/Investigator'\r\n\r\nimport { SummaryDisplay } from './SummaryDisplay'\r\nimport { CharacteristicSetRenderer } from './CharacteristicSetRenderer'\r\nimport { StatusDisplay } from './StatusDisplay'\r\nimport { AllSkillsDisplay } from './AllSkillsDisplay'\r\nimport { Mutables } from '../typescript/Mutables'\r\nimport { UnidocInvestigatorReducer } from '../typescript/unidoc/reducer'\r\n\r\n\r\n/**\r\n * \r\n */\r\nexport class InvestigatorPage extends PureComponent<InvestigatorPage.Properties> {\r\n  /**\r\n   * \r\n   */\r\n  public constructor (properties: InvestigatorPage.Properties) {\r\n    super(properties)\r\n\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.handleSave = this.handleSave.bind(this)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleChange(next: Investigator, previous: Investigator): void {\r\n    this.props.onChange(next, previous)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleSave(): void {\r\n    const href: HTMLAnchorElement = document.createElement('a')\r\n    href.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(UnidocInvestigatorReducer.reduce(this.props.value)))\r\n    href.setAttribute(\r\n      'download', \r\n      this.props.value.summary.name.first.toLocaleLowerCase() + '-' + \r\n      this.props.value.summary.name.last.toLocaleLowerCase() + '.sheet.unidoc'\r\n    )\r\n\r\n    href.style.display = 'none'\r\n    document.body.appendChild(href)\r\n\r\n    href.click()\r\n\r\n    document.body.removeChild(href)\r\n\r\n    href.remove()\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public render () : ReactElement {\r\n    return (\r\n      <div className={classnames('page page-investigator', this.props.className)}>\r\n        <div className='layout layout-rotulus'>\r\n          <div className='container'>\r\n            <div className='row justify-content-center align-items-center'>\r\n              <div className='col-8 col-md-4 order-md-1 col-lg-3 order-lg-1'>\r\n                <img className='img-fluid' src='/images/logo.svg' />\r\n              </div>\r\n\r\n              <div className='col-12 d-block d-md-none'>\r\n                <br />\r\n              </div>\r\n\r\n              <div className='col-12 col-md-8 order-md-1 col-lg-6 order-lg-1'>\r\n                <div className='row'>\r\n                  <SummaryDisplay value={this.props.value} />\r\n                </div>\r\n              </div>\r\n\r\n              <div className='col-12 d-block order-md-3'>\r\n                <br />\r\n              </div>\r\n\r\n              <div className='col-12 col-md-6 order-md-3 col-lg-3 order-lg-1'>\r\n                <div className='row'>\r\n                  <CharacteristicSetRenderer \r\n                    value={this.props.value} \r\n                    onChange={this.handleChange} \r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className='col-12 d-block d-md-none order-md-3 order-lg-1 d-lg-block'>\r\n                <br />\r\n              </div>\r\n\r\n              <div className='col-12 col-md-6 order-md-3 col-lg order-lg-1'>\r\n                <div className='row'>\r\n                  <StatusDisplay \r\n                    value={this.props.value} \r\n                    onChange={this.handleChange} \r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className='col-12 d-block d-md-block order-md-3 order-lg-1'>\r\n                <br />\r\n              </div>\r\n\r\n              <div className='col-12 order-md-3 order-lg-1'>\r\n                <div className='row'>\r\n                  <AllSkillsDisplay value={this.props.value} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className='row'>\r\n              <div className='col-12'>\r\n                <br />\r\n              \r\n                <button className='btn btn-primary btn-block' onClick={this.handleSave}>\r\n                  Sauvegarder la fiche\r\n                </button>\r\n\r\n                <button className='btn btn-link btn-block' onClick={this.props.onReload}>\r\n                  Charger une nouvelle fiche\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport namespace InvestigatorPage {\r\n  /**\r\n   * \r\n   */\r\n  export type Properties = {\r\n    /**\r\n     * \r\n     */\r\n    className?: string | undefined,\r\n\r\n    /**\r\n     * \r\n     */\r\n    onReload?: () => void,\r\n\r\n    /**\r\n     * \r\n     */\r\n    onChange?: (next: Investigator, previous: Investigator) => void,\r\n\r\n    /**\r\n     * \r\n     */\r\n    value: Investigator\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AAJA;AAKA;AAEA;AACA;AACA;AACA;AACA;AAfA;AAAA;AAAA;AAeA;AACA;AAEA;AACA;AACA;AACA;AArBA;AAAA;AAAA;AAsBA;AACA;AACA;AAMA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AA3CA;AAAA;AAAA;AA4CA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAOA;AAAA;AAIA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAOA;AAAA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAIA;AAAA;AAAA;AASA;AArHA;AACA;AADA;AAAA;AAwHA;AACA;AACA;AACA;AAAA;;;;A","sourceRoot":""}