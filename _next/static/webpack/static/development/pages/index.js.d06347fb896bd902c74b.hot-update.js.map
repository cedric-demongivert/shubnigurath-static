{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d06347fb896bd902c74b.hot-update.js","sources":["webpack:///./typescript/unidoc/InvestigatorCommand.ts"],"sourcesContent":["import { UnidocReductionInput } from '@cedric-demongivert/unidoc'\r\nimport { UnidocReductionRequest } from '@cedric-demongivert/unidoc'\r\nimport { UnidocKissValidator } from '@cedric-demongivert/unidoc'\r\nimport { UnidocReducer } from '@cedric-demongivert/unidoc'\r\n\r\nimport { Gender } from '../Gender'\r\nimport { Investigator } from '../Investigator'\r\nimport { Name } from '../Name'\r\nimport { Address } from '../Address'\r\nimport { CharacteristicSet } from '../CharacteristicSet'\r\nimport { Summary } from '../Summary'\r\nimport { SkillSet } from '../SkillSet'\r\nimport { Mutables } from '../Mutables'\r\n\r\nimport { CommandList } from './validator/command'\r\nimport { CommandListElement } from './validator/command'\r\nimport { validateCommandList } from './validator/command'\r\n\r\nimport { NameCommand } from './NameCommand'\r\nimport { GenderCommand } from './GenderCommand'\r\nimport { AddressCommand } from './AddressCommand'\r\nimport { CharacteristicSetCommand } from './CharacteristicSetCommand'\r\nimport { SkillSetCommand } from './SkillSetCommand'\r\nimport { StateCommand } from './StateCommand'\r\n\r\n/**\r\n * \r\n */\r\nexport namespace InvestigatorCommand {\r\n  /**\r\n   * \r\n   */\r\n  const COMMAND: CommandList = CommandList.capture(\r\n    CommandListElement.anywhere.requiredCommand('name', NameCommand.validate),\r\n    CommandListElement.anywhere.requiredCommand('alias', UnidocKissValidator.requireText),\r\n    CommandListElement.anywhere.requiredCommand('job', UnidocKissValidator.requireText),\r\n    CommandListElement.anywhere.requiredCommand('matricule', UnidocKissValidator.requireText),\r\n    CommandListElement.anywhere.requiredCommand('gender', GenderCommand.validate),\r\n    CommandListElement.anywhere.requiredCommand('age', UnidocKissValidator.requireToken),\r\n    CommandListElement.anywhere.requiredCommand('birthdate', UnidocKissValidator.requireText),\r\n    CommandListElement.anywhere.requiredCommand('hiringdate', UnidocKissValidator.requireText),\r\n    CommandListElement.anywhere.requiredCommand('birthplace', AddressCommand.validate),\r\n    CommandListElement.anywhere.requiredCommand('home', AddressCommand.validate),\r\n    CommandListElement.anywhere.requiredCommand('characteristics', CharacteristicSetCommand.validate),\r\n    CommandListElement.anywhere.requiredCommand('skills', SkillSetCommand.validate),\r\n    CommandListElement.anywhere.optionalCommand('state', StateCommand.validate),\r\n    CommandListElement.anywhere.optionalCommand('updates', SkillSetCommand.validate)\r\n  )\r\n\r\n  /**\r\n   * \r\n   */\r\n  export function validate(): UnidocKissValidator {\r\n    return validateCommandList(COMMAND)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  export function* reduce(): UnidocReducer<Investigator> {\r\n    let name: Name | undefined = undefined\r\n    let alias: string | undefined = undefined\r\n    let job: string | undefined = undefined\r\n    let matricule: string | undefined = undefined\r\n    let gender: Gender | undefined = undefined\r\n    let age: string | undefined = undefined\r\n    let birthdate: string | undefined = undefined\r\n    let hiringdate: string | undefined = undefined\r\n    let birthplace: Address | undefined = undefined\r\n    let home: Address | undefined = undefined\r\n    let characteristics: CharacteristicSet = CharacteristicSet.empty()\r\n    let skills: SkillSet = SkillSet.empty()\r\n    let mutables: Mutables | undefined = undefined\r\n    let updates: SkillSet = SkillSet.empty()\r\n\r\n    yield* UnidocReducer.skipStart()\r\n    yield* UnidocReducer.skipWhitespaces()\r\n\r\n    while (true) {\r\n      let current: UnidocReductionInput = yield UnidocReductionRequest.CURRENT\r\n\r\n      if (current.isStartOfAnyTag()) {\r\n        if (current.isStartOfTag('name')) {\r\n          name = yield* UnidocReducer.reduceTag.content(NameCommand.reduce())\r\n        } else if (current.isStartOfTag('alias')) {\r\n          alias = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('state')) {\r\n          mutables = yield* UnidocReducer.reduceTag.content(StateCommand.reduce())\r\n        } else if (current.isStartOfTag('job')) {\r\n          job = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('matricule')) {\r\n          matricule = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('gender')) {\r\n          gender = yield* UnidocReducer.reduceTag.content(GenderCommand.reduce())\r\n        } else if (current.isStartOfTag('age')) {\r\n          age = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('birthdate')) {\r\n          birthdate = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('hiringdate')) {\r\n          hiringdate = yield* UnidocReducer.reduceTag.content(UnidocReducer.reduceText())\r\n        } else if (current.isStartOfTag('birthplace')) {\r\n          birthplace = yield* UnidocReducer.reduceTag.content(AddressCommand.reduce())\r\n        } else if (current.isStartOfTag('home')) {\r\n          home = yield* UnidocReducer.reduceTag.content(AddressCommand.reduce())\r\n        } else if (current.isStartOfTag('characteristics')) {\r\n          characteristics = yield* UnidocReducer.reduceTag.content(CharacteristicSetCommand.reduce())\r\n        } else if (current.isStartOfTag('skills')) {\r\n          skills = yield* UnidocReducer.reduceTag.content(SkillSetCommand.reduce())\r\n        } else if (current.isStartOfTag('updates')) {\r\n          updates = yield* UnidocReducer.reduceTag.content(SkillSetCommand.reduce())\r\n        } else {\r\n          yield* UnidocReducer.skipTag()\r\n        }\r\n      } else if (current.isEnd()) {\r\n        return Investigator.create({\r\n          summary: Summary.create({\r\n            name,\r\n            alias,\r\n            job,\r\n            matricule,\r\n            gender,\r\n            age: parseInt(age),\r\n            birthdate,\r\n            hiringdate,\r\n            birthplace,\r\n            home\r\n          }),\r\n          characteristics,\r\n          skills,\r\n          mutables\r\n        })\r\n      } else {\r\n        current = yield UnidocReductionRequest.NEXT\r\n      }\r\n    }\r\n  }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAGA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;;AA8BA;AACA;AA/BA;AACA;AACA;AACA;AAiBA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAjBA;AAiBA;AACA;AAlBA;AAAA;AACA;AADA;AAoBA;AACA;AArBA;AAoBA;AACA;AArBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAuBA;AACA;AAzBA;AAwBA;AAxBA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAyBA;AACA;AA3BA;AA0BA;AA1BA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA2BA;AACA;AA7BA;AA4BA;AA5BA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA6BA;AACA;AA/BA;AA8BA;AA9BA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA+BA;AACA;AAjCA;AAgCA;AAhCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAiCA;AACA;AAnCA;AAkCA;AAlCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAmCA;AACA;AArCA;AAoCA;AApCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAqCA;AACA;AAvCA;AAsCA;AAtCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAuCA;AACA;AAzCA;AAwCA;AAxCA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAyCA;AACA;AA3CA;AA0CA;AA1CA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA2CA;AACA;AA7CA;AA4CA;AA5CA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA6CA;AACA;AA/CA;AA8CA;AA9CA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AA+CA;AACA;AAjDA;AAgDA;AAhDA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAiDA;AACA;AAnDA;AAkDA;AAlDA;AAAA;AACA;AADA;AAoDA;AACA;AArDA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AACA;AAfA;AACA;AAxDA;AAAA;AAyEA;AACA;AA1EA;AAyEA;AACA;AA1EA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAhCA;;;;A","sourceRoot":""}