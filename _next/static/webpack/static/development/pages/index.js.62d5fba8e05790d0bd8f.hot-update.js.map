{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.62d5fba8e05790d0bd8f.hot-update.js","sources":["webpack:///./components/StatusDisplay.tsx"],"sourcesContent":["import { PureComponent } from 'react'\r\nimport { ReactElement } from 'react'\r\n\r\nimport { Label } from './Label'\r\nimport { MovementRenderer } from './MovementRenderer'\r\nimport { BooleanField } from './form/BooleanField'\r\nimport { CopyField } from './CopyField'\r\n\r\nimport { Investigator } from '../typescript/Investigator'\r\nimport { CharacteristicSet } from '../typescript/CharacteristicSet'\r\nimport { ControlEvent } from '../typescript/redux/ControlEvent'\r\nimport { FieldReducer } from '../typescript/redux/FieldReducer'\r\nimport { Empty } from '../typescript/utils'\r\nimport { Mutables } from '../typescript/Mutables'\r\nimport { BoundStatisticField } from './form/BoundStatisticField'\r\nimport { DataEvent, DataReducer } from '../typescript/redux'\r\n\r\n/**\r\n * \r\n */\r\nexport class StatusDisplay extends PureComponent<StatusDisplay.Properties> {\r\n  /**\r\n   * \r\n   */\r\n  public static defaultProps: StatusDisplay.OptionalProperties = {\r\n    /**\r\n     * \r\n     */\r\n    onChange: Empty.callback\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public constructor(properties: StatusDisplay.Properties) {\r\n    super(properties)\r\n    \r\n    this.handleTemporaryInsaneChange = this.handleTemporaryInsaneChange.bind(this)\r\n    this.handleIndefinitelyInsaneChange = this.handleIndefinitelyInsaneChange.bind(this)\r\n    this.handleMajorWoundChange = this.handleMajorWoundChange.bind(this)\r\n    this.handleHealthChange = this.handleHealthChange.bind(this)\r\n    this.handleMagicChange = this.handleMagicChange.bind(this)\r\n    this.handleMentalHealthChange = this.handleMentalHealthChange.bind(this)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleTemporaryInsaneChange (event: DataEvent<boolean>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          temporaryInsane: DataReducer.reduce(this.props.value.mutables.temporaryInsane, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleIndefinitelyInsaneChange (event: DataEvent<boolean>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          indefinitelyInsane: DataReducer.reduce(this.props.value.mutables.indefinitelyInsane, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleMajorWoundChange (event: DataEvent<boolean>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          majorWound: DataReducer.reduce(this.props.value.mutables.majorWound, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleHealthChange (event: DataEvent<number>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          health: DataReducer.reduce(this.props.value.mutables.health, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleMagicChange (event: DataEvent<number>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          magic: DataReducer.reduce(this.props.value.mutables.magic, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public handleMentalHealthChange (event: DataEvent<number>): void {\r\n    this.props.onChange(\r\n      Investigator.create({\r\n        ...this.props.value,\r\n        mutables: Mutables.create({\r\n          ...this.props.value.mutables,\r\n          mentalHealth: DataReducer.reduce(this.props.value.mutables.mentalHealth, event)\r\n        })\r\n      }),\r\n      this.props.value\r\n    )\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public render (): ReactElement {\r\n    const investigator: Investigator = this.props.value\r\n    const mutables: Mutables = this.props.value.mutables\r\n    const characteristics: CharacteristicSet = investigator.characteristics\r\n\r\n    return (\r\n      <div className='container-fluid'>\r\n        <div className='row'>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <BoundStatisticField onChange={this.handleHealthChange} value={mutables.health} maximum={investigator.maximumHP}>\r\n              <Label>Points de vie</Label>\r\n            </BoundStatisticField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <BoundStatisticField onChange={this.handleMentalHealthChange} value={mutables.mentalHealth} maximum={characteristics.power.sum()}>\r\n              <Label>Sant√© mentale</Label>\r\n            </BoundStatisticField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'> \r\n            <BoundStatisticField onChange={this.handleMagicChange} value={mutables.magic} maximum={investigator.maximumMP}>\r\n              <Label>Points de magie</Label>\r\n            </BoundStatisticField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <BooleanField value={mutables.majorWound} onChange={this.handleMajorWoundChange}>\r\n              <Label>Blessure grave</Label>\r\n            </BooleanField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <BooleanField value={mutables.temporaryInsane} onChange={this.handleTemporaryInsaneChange}>\r\n              <Label>Folie temporaire</Label>\r\n            </BooleanField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <BooleanField value={mutables.indefinitelyInsane} onChange={this.handleIndefinitelyInsaneChange}>\r\n              <Label>Folie persistante</Label>\r\n            </BooleanField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <CopyField value={investigator.impact} className='align-items-center'>\r\n              <Label>Impact</Label>\r\n              { investigator.impact }\r\n            </CopyField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <CopyField value={investigator.carrure.toString()} className='align-items-center'>\r\n              <Label>Carrure</Label>\r\n              { investigator.carrure }\r\n            </CopyField>\r\n          </div>\r\n          <div className='col-4 col-md-6 col-lg'>\r\n            <CopyField value={investigator.movement.toString()} className='align-items-center'>\r\n              <Label>Mouvement</Label>\r\n              <MovementRenderer value={ investigator.carrure } />\r\n            </CopyField>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n/**\r\n * \r\n */\r\nexport namespace StatusDisplay {\r\n  /**\r\n   * \r\n   */\r\n  export type ChangeCallback = (next: Investigator, previous: Investigator) => void\r\n\r\n  /**\r\n   * \r\n   */\r\n  export type OptionalProperties = {\r\n    /**\r\n     * \r\n     */\r\n    readonly className?: string | undefined,\r\n\r\n    /**\r\n     * \r\n     */\r\n    readonly onChange?: ChangeCallback | undefined\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  export type RequiredProperties = {\r\n    /**\r\n     * \r\n     */\r\n    readonly value: Investigator\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  export type Properties = OptionalProperties & RequiredProperties\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AARA;AASA;AAEA;AACA;AACA;AACA;AACA;AA7BA;AAAA;AAAA;AA6BA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5CA;AAAA;AAAA;AA6CA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5DA;AAAA;AAAA;AA6DA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5EA;AAAA;AAAA;AA6EA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5FA;AAAA;AAAA;AA6FA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5GA;AAAA;AAAA;AA6GA;AAGA;AAEA;AAFA;AAFA;AASA;AAEA;AACA;AACA;AACA;AA5HA;AAAA;AAAA;AA6HA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AAKA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAMA;AAvLA;AACA;AADA;AAAA;AAyLA;AACA;AACA;AACA;AA5LA;AAKA;AACA;AACA;AACA;AAJA;AACA;AAuLA;;;;A","sourceRoot":""}